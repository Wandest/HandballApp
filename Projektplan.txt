Projektplan: Handball-Auswertungs-App (Non-Plus-Ultra)

Ziel: Entwicklung eines kompletten Team-√ñkosystems, das von der Kreisliga bis zur Bundesliga alle Aspekte der Leistungsanalyse, Athletik-Steuerung und des Team-Managements abdeckt und zur unverzichtbaren t√§glichen Ressource f√ºr Trainer UND Spieler wird.

==================================================
BLOCK 1: FUNDAMENT (ABGESCHLOSSEN)

Phase 1: Grundger√ºst & MVP
Status: ‚úÖ ABGESCHLOSSEN
[x] Technologie-Setup (FastAPI, SQLAlchemy, pywebview, HttpOnly Cookies)
[x] Datenbank-Modelle (Trainer, Team, Spieler, Game, Action, etc.)
[x] Stabile Benutzerverwaltung & E-Mail-Verifizierung

Phase 2: Kernfunktion: Team-Management
Status: ‚úÖ ABGESCHLOSSEN
[x] Team-Management (Erstellen, Liga zuweisen, Auflisten)
[x] Spieler-Management (Erstellen, L√∂schen, Zuweisen)
[x] "Eigene Aktionen" (Custom Actions) mit Kategorien

Phase 3: Kernfunktion: Live-Spiel-Protokoll
Status: ‚úÖ ABGESCHLOSSEN
[x] Protokoll-UI (protocol.html) mit Kader-Management (Roster)
[x] Protokollieren von festen Aktionen (Tor, Fehlwurf, 7m, etc.)
[x] Protokollieren von "Eigenen Aktionen"
[x] Live-Statistik (Feldspieler, Torwart, Gegner)

Phase 4: Spiel-Kategorisierung & Saison-Logik
Status: ‚úÖ ABGESCHLOSSEN
[x] Datenbank-Erweiterung (game_category, tournament_name)
[x] UI-Tabs f√ºr "Saison", "Testspiel", "Turnier"
[x] Spielplan-Ansicht mit Gruppierung nach Kategorie

Phase 5: Saison-Auswertung
Status: ‚úÖ ABGESCHLOSSEN
[x] API f√ºr aggregierte Saison-Statistik (Spieler & Gegner)
[x] UI f√ºr Saison-Statistik-Ansicht
[x] Archiv-Logik ("Saison beenden")

Phase 6: "Liga"-Feature (Scouting V1)
Status: ‚úÖ ABGESCHLOSSEN
[x] Backend: Logik f√ºr "√ñffentlich sichtbar" (team.py /toggle-public)
[x] Backend: √ñffentliche API-Endpunkte (public.py)
[x] UI "Team Management": Checkbox f√ºr "√ñffentlich sichtbar"
[x] UI "Saison Analyse": "Liga-Scouting"-Modul zum Ansehen √∂ffentlicher Team-Statistiken

Phase 7: UI/UX Professionalisierung
Status: ‚úÖ ABGESCHLOSSEN
[x] Navigation: Stabile Sidebar-Navigation (app_layout.html)
[x] Seitenstruktur: App in dedizierte Seiten aufgeteilt (Dashboard, Team-Mgmt, etc.)
[x] Visuelles Design: Modernes, responsives Layout, saubere Formulare und korrigierte UI-Elemente (z.B. kleine L√∂sch-Buttons)

==================================================
BLOCK 2: PRO-FEATURES: SPIEL-ANALYSE (AKTUELL & √úBERARBEITET)

Phase 8: Pro-Level: Wurfbild- & Video-Analyse
Status: üü¢ IN ARBEIT
[x] Datenbank: Action-Modell erweitert um x_coordinate und y_coordinate
[x] UI Protokoll (Wurfbild): Klickbares SVG-Handball-Feld (protocol.html) zur Positionserfassung
[ ] Datenbank: Action-Modell erweitern um video_timestamp (z.B. "04:32")
[ ] Backend/UI: Video-Quellen-Management pro Spiel (YouTube-Link, Vimeo, Upload-Pfad)
[ ] UI Protokoll (Video): Integration eines Video-Players (z.B. Plyr.io). Beim Klick auf einen Action-Button wird der aktuelle Zeitstempel des Videos mitgespeichert.
[ ] Statistik-UI (Wurfbilder): Neue Ansicht "Shot Charts". Zeigt eine Heatmap aller W√ºrfe (Tore/Fehlw√ºrfe) f√ºr Spieler/Team.
[ ] DAS PRO-FEATURE: Statistik-UI (Video-Schnitt). Trainer filtert Aktionen (z.B. "Alle Paraden von TW #1"). Die App generiert eine Schnitt-Liste (Playlist), die nur diese Szenen (basierend auf Timestamps) aus dem Video abspielt.

Phase 8.5: (NEU) UX-Refinement: Kontext-Modale & Analyse-Layout
Status: ‚¨ú ZU TUN
[ ] Strategisch (UX): Analyse-UI aufteilen. Das "Saison Wurfbild" (nur eigene Tore/Fehlw√ºrfe) auf einem Halbfeld anzeigen, um Details zu maximieren. Das "Saison Fehlerbild" (Fehlp√§sse, Tech. Fehler) auf dem Ganzfeld belassen.
[ ] Technisch (Protokoll): protocol.html anpassen. Klick auf "Tor" / "Fehlwurf" √∂ffnet ein Halbfeld-Modal (neues SVG). Klick auf "Fehlpass" / "Tech. Fehler" √∂ffnet das bestehende Ganzfeld-Modal. Dies ist die saubere Trennung, die Pro-Tools nutzen.

Phase 9: Pro-Level: Detailliertes Gegner-Scouting & Live-Sync
Status: ‚¨ú ZU TUN
[ ] STRATEGISCHES KEY-FEATURE: protocol.html erweitern: Klick auf "Gegner Tor" / "Gegner Fehlwurf" √∂ffnet ebenfalls das (Ganzfeld-)Modal zur Erfassung von x/y-Koordinaten. (Das ist die Grundlage f√ºr Phase 13 KI).
[ ] Statistik-UI (Gegner): Neue Ansicht "Gegner-Wurfbild-Analyse". Zeigt Wurfbilder/Heatmaps des Gegners (basierend auf den neuen Daten). (Zentral f√ºr Torwart-Vorbereitung & Abwehr-Taktik).
[ ] Statistik-UI (Integration): Die in Phase 6 und 8.5 erstellten Analyse-Module (Wurfbilder etc.) nutzen, um die √∂ffentlichen Liga-Daten von Gegnern zu visualisieren.
[ ] Scouting-Modus (Optional): Das Protokoll-System "umkehren", um ein volles Protokoll nur f√ºr den Gegner zu f√ºhren (z.B. bei Video-Analyse eines Spiels, an dem man nicht teilnimmt).
[ ] (Optional - Sehr Komplex): Multi-Device-Protokoll via WebSockets f√ºr Echtzeit-Sync.

==================================================
BLOCK 3: NON-PLUS-ULTRA: TEAM-√ñKOSYSTEM (STRATEGISCH NEU GEORDNET)

Phase 10: Spieler-Portal & App (NEU & FUNDAMENTAL)
Status: ‚¨ú ZU PLANEN
[ ] Ziel: Separate, vereinfachte Web-Ansicht (PWA) f√ºr Spieler.
[ ] Backend: Spieler-Login-System (Account wird vom Trainer "eingeladen").
[ ] UI (Spieler): Kalender (Spiele/Training) sehen.
[ ] UI (Spieler): Eigene, freigegebene Statistiken und Video-Szenen (aus Phase 8) sehen.
[ ] UI (Spieler): Anwesenheit f√ºr Training/Spiel/Termine melden (Zu-/Absage mit Grund) (f√ºr Phase 12).
[ ] UI (Spieler): Wellness-Log (f√ºr Phase 11) ausf√ºllen.

Phase 10.5: (NEU) Key-Feature: Spielzeit-Tracking
(Strategische Voraussetzung f√ºr Phase 11)
Status: ‚¨ú ZU PLANEN
[ ] Fundament f√ºr Belastungssteuerung: protocol.html erweitern mit "Einwechseln" / "Auswechseln" Buttons f√ºr Spieler. (Muss den "aktiven" Kader-Status pro Zeitstempel loggen).
[ ] Backend: Logik zur automatischen Berechnung der "Time on Court" (Spielzeit) aus den neuen Ein/Aus-Action-Logs.
[ ] Statistik-UI: Spielzeit pro Spieler (pro Spiel / Saison) in den Statistik-Tabellen anzeigen.
[ ] (Optional/Profi): Grafische "Timeline" der Aufstellungen w√§hrend eines Spiels.

Phase 11: Athletik & Belastungssteuerung
(Baut auf Phase 10 & 10.5 auf)
Status: ‚¨ú ZU PLANEN
[ ] Datenbank: Neue Modelle f√ºr Injury (Verletzung) und WellnessLog.
[ ] Feature (Wellness-Tracking): Spieler f√ºllen T√ÑGLICH im Spieler-Portal (Phase 10) ihr Feedback aus: Schlafqualit√§t, Muskelkater, Stresslevel, RPE (Rate of Perceived Exertion).
[ ] Feature (Medical): Trainer/Physio kann Verletzungen loggen (player_id, injury_type, status [z.B. "Kein Kontakt", "Lauftraining"]).
[ ] Dashboard-UI (Trainer): Warnungen (z.B. "Spieler X: Hohe Spielzeit (Phase 10.5) + 3x schlechter Schlaf (Phase 11) -> Belastung reduzieren?").

Phase 12: Trainings- & Termin-Management (Spielerplus-Funktionen)
(Baut auf Phase 10 auf)
Status: ‚¨ú ZU PLANEN
[ ] Datenbank: Neue Modelle f√ºr TrainingSession, Drill (√úbung) und TeamEvent (Termin).
[ ] KEY-FEATURE (Termin-Management): Kalender-Ansicht f√ºr Trainer, um beliebige Termine (Spiele, Training, Team-Abend, Physio) zu erstellen.
[ ] KEY-FEATURE (Anwesenheits-Tracking): Trainer sieht "Zusagen / Absagen / Vielleicht" (aus Phase 10) f√ºr alle Termine in einer klaren √úbersicht.
[ ] (Feature-Erweiterung): Automatische Erinnerungen (z.B. "Morgen Training, bitte eintragen!") f√ºr Spieler, die nicht geantwortet haben.
[ ] Feature (√úbungs-DB): Trainer legen eigene √úbungen (Beschreibung, Skizze, Video-Link) an.
[ ] Feature (Visuelle Taktiktafel): Ein Tool (z.B. HTML-Canvas), um √úbungen/Spielz√ºge auf ein Feld zu zeichnen.

==================================================
BLOCK 4: ENDGAME: KI & KONNEKTIVIT√ÑT

Phase 13: KI-Analyse & Integration
Status: ‚¨ú ZU PLANEN
[ ] KI-Analyse (Sequenzen): Backend analysiert Action-Logs, um erfolgreiche/erfolglose Aktionsketten zu erkennen (z.B. "Pass [RM] -> Pass [KL] -> 7m verursacht").
[ ] KI-Analyse (Prognose): Basierend auf Gegner-Wurfbildern (aus der neuen Phase 9) vorschlagen, welche Abwehr-Formationen oder Torwart-Positionierungen sinnvoll sind.

[ ] KI-Analyse (Trainingsplanung): Basierend auf Wellness-Daten (Phase 11) und Spielzeit (Phase 10.5) individuelle Belastungs-Empfehlungen geben.
[ ] Konnektivit√§t (API): Private, gesicherte API f√ºr Trainer zum Export/Import von Rohdaten (CSV).
[ ] Konnektivit√§t (Kalender): Export von Spiel- und Trainingspl√§nen (aus Phase 12) via .ics (iCal-Format).
[ ] Kommunikation: Internes, einfaches Messaging-System (Trainer an Team, Trainer an Spieler).