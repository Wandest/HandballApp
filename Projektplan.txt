Projektplan: Handball-Auswertungs-App (Non-Plus-Ultra)

Ziel: Entwicklung eines kompletten Team-√ñkosystems, das von der Kreisliga bis zur Bundesliga alle Aspekte der Leistungsanalyse, Athletik-Steuerung und des Team-Managements abdeckt und zur unverzichtbaren t√§glichen Ressource f√ºr Trainer UND Spieler wird.

==================================================
BLOCK 1: FUNDAMENT
Status: ‚úÖ ABGESCHLOSSEN
(Phasen 1-7)

Phase 1: Grundger√ºst & MVP
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] Technologie-Setup (FastAPI, SQLAlchemy, pywebview, HttpOnly Cookies)
[‚úÖ] Datenbank-Modelle (Trainer, Team, Spieler, Game, Action, etc.)
[‚úÖ] Stabile Benutzerverwaltung & E-Mail-Verifizierung

Phase 2: Kernfunktion: Team-Management
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] Team-Management (Erstellen, Liga zuweisen, Auflisten)
[‚úÖ] Spieler-Management (Erstellen, L√∂schen, Zuweisen)
[‚úÖ] "Eigene Aktionen" (Custom Actions) mit Kategorien

Phase 3: Kernfunktion: Live-Spiel-Protokoll
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] Protokoll-UI (protocol.html) mit Kader-Management (Roster)
[‚úÖ] Protokollieren von festen Aktionen (Tor, Fehlwurf, 7m, etc.)
[‚úÖ] Protokollieren von "Eigenen Aktionen"
[‚úÖ] Live-Statistik (Feldspieler, Torwart, Gegner)

Phase 4: Spiel-Kategorisierung & Saison-Logik
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] Datenbank-Erweiterung (game_category, tournament_name)
[‚úÖ] UI-Tabs f√ºr "Saison", "Testspiel", "Turnier"
[‚úÖ] Spielplan-Ansicht mit Gruppierung nach Kategorie

Phase 5: Saison-Auswertung
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] API f√ºr aggregierte Saison-Statistik (Spieler & Gegner)
[‚úÖ] UI f√ºr Saison-Statistik-Ansicht
[‚úÖ] Archiv-Logik ("Saison beenden")

Phase 6: "Liga"-Feature (Scouting V1)
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] Backend: Logik f√ºr "√ñffentlich sichtbar" (team.py /toggle-public)
[‚úÖ] Backend: √ñffentliche API-Endpunkte (public.py)
[‚úÖ] UI "Team Management": Checkbox f√ºr "√ñffentlich sichtbar"
[‚úÖ] UI "Saison Analyse": "Liga-Scouting"-Modul zum Ansehen √∂ffentlicher Team-Statistiken

Phase 7: UI/UX Professionalisierung
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] Navigation: Stabile Sidebar-Navigation (app_layout.html)
[‚úÖ] Seitenstruktur: App in dedizierte Seiten aufgeteilt (Dashboard, Team-Mgmt, etc.)
[‚úÖ] Visuelles Design: Modernes, responsives Layout, saubere Formulare und korrigierte UI-Elemente.

==================================================
BLOCK 2: PRO-FEATURES: SPIEL-ANALYSE
Status: ‚úÖ ABGESCHLOSSEN

Phase 8: Pro-Level: Wurfbild- & Video-Analyse
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] Datenbank: Action-Modell erweitert um x_coordinate und y_coordinate
[‚úÖ] UI Protokoll (Wurfbild): Klickbares SVG-Handball-Feld (protocol.html) zur Positionserfassung
[‚úÖ] Datenbank: Action-Modell erweitert um video_timestamp (z.B. "04:32")
[‚úÖ] Backend/UI: Video-Quellen-Management pro Spiel (YouTube-Link)
[‚úÖ] UI Protokoll (Video): Integration des YouTube-Players in "Protokoll & Video"-Tab
[‚úÖ] Statistik-UI (Wurfbilder): Neue Ansicht "Shot Charts" (in season_analysis.html)
[‚úÖ] DAS PRO-FEATURE: Statistik-UI (Video-Schnitt). (Video-Schnitt-Center in season_analysis.html)

Phase 8.5: UX-Refinement: Kontext-Modale & Analyse-Layout
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] Strategisch (UX): Analyse-UI aufteilen.
[‚úÖ] Das "Saison Wurfbild" (nur eigene Tore/Fehlw√ºrfe) auf einem Halbfeld anzeigen.
[‚úÖ] Das "Saison Fehlerbild" (Fehlp√§sse, Tech. Fehler) auf dem Ganzfeld belassen.
[‚úÖ] Technisch (Protokoll): protocol.html anpassen.
[‚úÖ] Klick auf "Tor" / "Fehlwurf" √∂ffnet ein Halbfeld-Modal. Klick auf "Fehlpass" / "Tech. Fehler" √∂ffnet das Ganzfeld-Modal.

==================================================
BLOCK 3: NON-PLUS-ULTRA: TEAM-√ñKOSYSTEM
Status: üü° IN ARBEIT

Phase 9: Pro-Level: Detailliertes Gegner-Scouting & Live-Sync
Status: ‚úÖ ABGESCHLOSSEN
[‚úÖ] STRATEGISCHES KEY-FEATURE: protocol.html erweitern: Klick auf "Gegner Tor" / "Gegner Fehlwurf" √∂ffnet ebenfalls das (Halbfeld-)Modal zur Erfassung von x/y-Koordinaten.
[‚úÖ] Statistik-UI (Gegner): Neue Ansicht "Gegner-Wurfbild-Analyse".
[‚úÖ] Statistik-UI (Filter): Gegner-Wurfbild nach einzelnem Spiel filterbar.
[‚úÖ] Statistik-UI (Integration): Analyse-Module (Wurfbilder etc.) nutzen, um die √∂ffentlichen Liga-Daten von Gegnern zu visualisieren.
[‚úÖ] (NEUES PRO-FEATURE) Feature (Scouting-Berichte): Text-Editor, um qualitative Berichte √ºber Gegner-Teams oder -Spieler zu verfassen und zu archivieren.
[‚¨ú] Scouting-Modus (Optional): Das Protokoll-System "umkehren", um ein volles Protokoll nur f√ºr den Gegner zu f√ºhren.
[‚¨ú] (Optional - Sehr Komplex): Multi-Device-Protokoll via WebSockets f√ºr Echtzeit-Sync.

Phase 10: Spieler-Portal & App
Status: üü° IN ARBEIT
[‚úÖ] Backend: Spieler-Login-System (Account wird vom Trainer "eingeladen", Registrierungs-Frontend & Backend, Spieler-Dashboard-Seite).
[‚¨ú] Ziel: Separate, vereinfachte Web-Ansicht (PWA) f√ºr Spieler.
[‚¨ú] UI (Spieler): Kalender (Spiele/Training) sehen.
[‚¨ú] UI (Spieler): Eigene, freigegebene Statistiken und Video-Szenen (aus Phase 8) sehen.
[‚¨ú] UI (Spieler): Anwesenheit f√ºr Training/Spiel/Termine melden (Zu-/Absage mit Grund) (f√ºr Phase 12).
[‚¨ú] UI (Spieler): Wellness-Log (f√ºr Phase 11) ausf√ºllen.
[‚¨ú] (NEUES PRO-FEATURE) UI (Spieler): Individuelle Entwicklungs-Ziele (Qualitativ & Quantitativ) setzen und verfolgen.

Phase 10.2: (NEU) Feature: Multi-Trainer-Management
Status: ‚úÖ ABGESCHLOSSEN (War nicht im Plan, ist aber implementiert)
[‚úÖ] Backend: Datenbank-Erweiterung (UserRole, team_trainer_association).
[‚úÖ] Backend: API-Endpunkte f√ºr Staff-Management (/staff/add, /staff/role, /staff/remove, /staff/swap_main_coach).
[‚úÖ] UI (Team Management): Vollst√§ndige Oberfl√§che zur Verwaltung des Trainer-Staffs.

Phase 10.5: Key-Feature: Spielzeit-Tracking
Status: üü° IN ARBEIT
[‚úÖ] Backend: Logik zur automatischen Berechnung der "Time on Court" (Spielzeit) aus den "SubIn"/"SubOut"-Action-Logs.
[‚úÖ] Statistik-UI: Spielzeit pro Spieler (pro Spiel / Saison) in den Statistik-Tabellen anzeigen.
[‚¨ú] Fundament f√ºr Belastungssteuerung: protocol.html erweitern mit "Einwechseln" / "Auswechseln" Buttons f√ºr Spieler.
[‚¨ú] (Optional/Profi): Grafische "Timeline" der Aufstellungen w√§hrend eines Spiels.

Phase 11: Athletik & Belastungssteuerung
Status: ‚¨ú ZU PLANEN
[‚¨ú] Datenbank: Neue Modelle f√ºr Injury (Verletzung) und WellnessLog.
[‚¨ú] Feature (Wellness-Tracking): Spieler f√ºllen T√ÑGLICH im Spieler-Portal (Phase 10) ihr Feedback aus: Schlafqualit√§t, Muskelkater, Stresslevel, RPE (Rate of Perceived Exertion).
[‚¨ú] Feature (Medical): Trainer/Physio kann Verletzungen loggen (player_id, injury_type, status [z.B. "Kein Kontakt", "Lauftraining"]).
[‚¨ú] Dashboard-UI (Trainer): Warnungen (z.B. "Spieler X: Hohe Spielzeit (Phase 10.5) + 3x schlechter Schlaf (Phase 11) -> Belastung reduzieren?").

Phase 12: Trainings- & Termin-Management (Spielerplus-Funktionen)
Status: ‚¨ú ZU PLANEN
[‚¨ú] Datenbank: Neue Modelle f√ºr TrainingSession, Drill (√úbung) und TeamEvent (Termin).
[‚¨ú] KEY-FEATURE (Termin-Management): Kalender-Ansicht f√ºr Trainer, um beliebige Termine (Spiele, Training, Team-Abend, Physio) zu erstellen.
[‚¨ú] KEY-FEATURE (Anwesenheits-Tracking): Trainer sieht "Zusagen / Absagen / Vielleicht" (aus Phase 10) f√ºr alle Termine in einer klaren √úbersicht.
[‚¨ú] (Feature-Erweiterung): Automatische Erinnerungen (z.B. "Morgen Training, bitte eintragen!") f√ºr Spieler, die nicht geantwortet haben.
[‚¨ú] Feature (√úbungs-DB): Trainer legen eigene √úbungen (Beschreibung, Skizze, Video-Link) an.
[‚¨ú] (VERBESSERTES PRO-FEATURE) Feature (Animierte Taktiktafel): Ein Tool (z.B. HTML-Canvas), um √úbungen/Spielz√ºge zu zeichnen UND als Animation abzuspielen.

==================================================
BLOCK 4: ENDGAME: KI & KONNEKTIVIT√ÑT
Status: ‚¨ú ZU PLANEN
(Phase 13)

Phase 13: KI-Analyse & Integration
Status: ‚¨ú ZU PLANEN
[‚¨ú] KI-Analyse (Sequenzen): Backend analysiert Action-Logs, um erfolgreiche/erfolglose Aktionsketten zu erkennen (z.B. "Pass [RM] -> Pass [KL] -> 7m verursacht").
[‚¨ú] KI-Analyse (Prognose): Basierend auf Gegner-Wurfbildern (aus der neuen Phase 9) vorschlagen, welche Abwehr-Formationen oder Torwart-Positionierungen sinnvoll sind.
[‚¨ú] KI-Analyse (Trainingsplanung): Basierend auf Wellness-Daten (Phase 11) und Spielzeit (Phase 10.5) individuelle Belastungs-Empfehlungen geben.
[‚¨ú] Konnektivit√§t (API): Private, gesicherte API f√ºr Trainer zum Export/Import von Rohdaten (CSV).
[‚¨ú] Konnektivit√§t (Kalender): Export von Spiel- und Trainingspl√§nen (aus Phase 12) via .ics (iCal-Format).
[‚¨ú] Kommunikation: Internes, einfaches Messaging-System (Trainer an Team, Trainer an Spieler).