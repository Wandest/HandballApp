<style>
    /* ... (CSS unver√§ndert) ... */
    
    /* Grid-Korrektur f√ºr 1-Spalte (Bleibt) */
    .analysis-grid-1-col {
        display: grid;
        grid-template-columns: 1fr; 
        gap: 20px;
    }
    .stats-card-container {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    /* --- WELLNESS LOG SLIDER STYLING (Phase 11) - KORRIGIERT --- */
    .wellness-scale-group {
        margin-bottom: 15px;
    }
    
    .wellness-scale-group label {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
        font-weight: bold;
    }
    
    .wellness-scale-group label span.value-display {
        font-weight: 900; 
        font-size: 1.4em; 
        color: #ffcc00;
        position: relative;
        z-index: 2;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
    
    /* KORRIGIERTER SLIDER-STYLE */
    .wellness-scale-group input[type="range"] {
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 12px; /* Etwas h√∂her f√ºr bessere Bedienbarkeit */
        border-radius: 6px;
        outline: none;
        margin: 0;
        cursor: pointer;
        overflow: hidden; /* Wichtig f√ºr den abgerundeten F√ºlleffekt */
        
        /* Hintergrund-Trick f√ºr Fortschrittsbalken:
           - background-color ist der leere Teil (grau transparent)
           - background-image ist der gef√ºllte Teil (Farbverlauf)
           - background-size steuert die Breite des gef√ºllten Teils √ºber --percent
        */
        background-color: rgba(255, 255, 255, 0.2); 
        background-image: linear-gradient(90deg, #38E838, #00bcd4); 
        background-size: var(--percent, 50%) 100%; 
        background-repeat: no-repeat;
    }

    /* Style f√ºr den "Daumen" (Webkit/Chromium) */
    .wellness-scale-group input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #ffcc00; 
        cursor: pointer;
        border: 3px solid #1e3c72; /* Dickerer Rand f√ºr besseren Kontrast */
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        /* Ein kleiner Trick, um den Daumen optisch besser zu zentrieren, 
           da er durch 'overflow: hidden' am Rand abgeschnitten werden k√∂nnte. 
           Wir nutzen box-shadow, um ihn "sichtbar" zu machen, falls er √ºberlappt. */
    }
    /* Style f√ºr Firefox (falls ben√∂tigt) */
    .wellness-scale-group input[type="range"]::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #ffcc00;
        cursor: pointer;
        border: 3px solid #1e3c72;
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    
    /* ... (Restliche Styles unver√§ndert) ... */
    .player-event-item {
        background: rgba(0, 0, 0, 0.2); 
        padding: 15px; border-radius: 5px;
        margin-bottom: 10px; 
        transition: background-color 0.2s;
        border-left: 5px solid #607d8b; 
    }
    .player-event-item.event-type-Training { border-left-color: #00bcd4; }
    .player-event-item.event-type-Spiel { border-left-color: #38E838; }
    .player-event-item.deadline-passed {
         background: rgba(255, 102, 102, 0.1);
         border-left-color: #f44336; 
         opacity: 0.8;
    }
    
    .status-badge {
        font-weight: bold; padding: 5px 10px; border-radius: 4px; font-size: 0.9em;
    }
    .status-badge.ATTENDING { color: #1e3c72; background-color: #38E838; }
    .status-badge.DECLINED { color: white; background-color: #f44336; }
    .status-badge.TENTATIVE { color: #1e3c72; background-color: #ffcc00; }
    .status-badge.NOT_RESPONDED { color: #ddd; background-color: #607d8b; }

</style>

<div class="analysis-grid-1-col">

    <!-- Zeile 1: Kalender -->
    <div class="card">
        <div class="card-content">
            <h2>üóìÔ∏è Meine Termine (N√§chste 7 Tage)</h2>
            <p style="opacity: 0.8; font-size: 0.9em;">
                Hier siehst du deine anstehenden Termine der n√§chsten 7 Tage. **Abwesenheiten meldest du unter 'Alle Termine'.**
            </p>
            
            <div id="player-calendar-message" class="message"></div>
            <div id="player-calendar-container">
                <p style="opacity: 0.6; text-align: center;">Lade Termine...</p>
            </div>
        </div>
    </div>
    
    <!-- Zeile 2: Wellness Log -->
    <div class="card">
        <div class="card-content">
            <h2>üßò Wellness Log (T√§glich)</h2>
            <p style="opacity: 0.8; font-size: 0.9em;">
                Bitte trage t√§glich deinen Zustand ein. Nur ein Eintrag pro Tag erlaubt.
            </p>
            
            <div id="wellness-status-indicator" class="message" style="margin-bottom: 15px;"></div>
            
            <form id="wellness-form">
                
                <div class="wellness-scale-group">
                    <label for="sleep-quality-input">Schlafqualit√§t (1=Schlecht, 5=Sehr Gut):
                        <span id="sleep-quality-input-value" class="value-display">3</span>
                    </label>
                    <!-- Initialwert f√ºr --percent wird hier direkt gesetzt f√ºr besseres Laden ohne JS-Flackern -->
                    <input type="range" id="sleep-quality-input" min="1" max="5" value="3" required 
                           style="--percent: 50%;"
                           oninput="setScaleValue('sleep-quality-input', this.value)">
                </div>

                <div class="wellness-scale-group">
                    <label for="muscle-soreness-input">Muskelkater (1=Kein, 5=Extrem):
                         <span id="muscle-soreness-input-value" class="value-display">3</span>
                    </label>
                    <input type="range" id="muscle-soreness-input" min="1" max="5" value="3" required 
                           style="--percent: 50%;"
                           oninput="setScaleValue('muscle-soreness-input', this.value)">
                </div>
                
                <div class="wellness-scale-group">
                    <label for="stress-level-input">Stresslevel (1=Gering, 5=Hoch):
                        <span id="stress-level-input-value" class="value-display">3</span>
                    </label>
                    <input type="range" id="stress-level-input" min="1" max="5" value="3" required 
                           style="--percent: 50%;"
                           oninput="setScaleValue('stress-level-input', this.value)">
                </div>
                
                <div class="wellness-scale-group">
                    <label for="session-rpe-input">Gef√ºhlte Trainingsbelastung (RPE 1-10) (Optional):
                        <span id="session-rpe-input-value" class="value-display">5</span>
                    </label>
                    <!-- Bei 1-10 ist 5 etwa 44% ((5-1)/(10-1) = 4/9 = 0.444) -->
                    <input type="range" id="session-rpe-input" min="1" max="10" value="5" 
                           style="--percent: 44.4%;"
                           oninput="setScaleValue('session-rpe-input', this.value)">
                </div>

                <button type="submit" class="btn btn-primary btn-full-width">Wellness-Log speichern</button>
            </form>
            <div id="wellness-message" class="message"></div>
        </div>
    </div>
    
    <!-- Zeile 3: Statistik und Clips -->
    <div class="analysis-grid-1-col"> 
        <div class="card">
            <div class="card-content">
                <h2>üìä Deine Saison-Statistik (Aggregiert)</h2>
                <p style="opacity: 0.8; font-size: 0.9em;">
                    Dies ist eine Zusammenfassung deiner pers√∂nlichen Leistung in allen Saisonspielen.
                </p>
                <div id="stats-container-wrapper">
                    <div id="field-stats-section" style="display: none;">
                        <h3 id="field-stats-title" style="margin-top: 20px;">Feldspieler-Statistik</h3>
                        <div class="stats-table-container" id="stats-table-container-field-season">
                            <p style="opacity: 0.6; text-align: center;">Lade deine Feld-Statistik...</p>
                        </div>
                    </div>
                    <div id="goalie-stats-section" style="display: none;">
                        <h3 id="goalie-stats-title" style="margin-top: 20px;">Torwart-Statistik</h3>
                        <div class="stats-table-container" id="stats-table-container-goalie-season">
                            <p style="opacity: 0.6; text-align: center;">Lade deine Torwart-Statistik...</p>
                        </div>
                    </div>
                    <div id="custom-stats-section" style="display: none;">
                        <h3 id="custom-stats-title" style="margin-top: 20px;">Team-Aktionen Statistik</h3>
                        <div class="stats-table-container" id="stats-table-container-custom-season">
                            <p style="opacity: 0.6; text-align: center;">Lade deine Team-Aktionen...</p>
                        </div>
                    </div>
                </div>
                <div id="player-stats-message" class="message"></div>
            </div>
        </div>
    </div>
    
    <!-- Zeile 4: Video Clips -->
    <div class="card">
        <div class="card-content">
            <h2>üé¨ Deine Video-Szenen (Saison)</h2>
            <p style="opacity: 0.8; font-size: 0.9em;">
                Filtere deine Aktionen aus allen Saisonspielen. Klicke auf einen Eintrag, um die Szene abzuspielen.
            </p>
            <div class="video-cutter-layout">
                <div class="cutter-controls">
                    <div class="form-section active">
                        <label for="cutter-action-select">Aktion ausw√§hlen:</label>
                        <select id="cutter-action-select">
                            <option value="all" selected>Alle Aktionen</option>
                        </select>
                    </div>
                    <div class="form-section active">
                        <label for="cutter-game-select">Spiel ausw√§hlen:</label>
                        <select id="cutter-game-select">
                            <option value="all" selected>Alle Spiele</option>
                        </select>
                    </div>
                    <h3 style="margin-top: 20px; margin-bottom: 10px;">Deine Schnitt-Liste (Playlist)</h3>
                    <div id="cutter-playlist-container">
                        <p style="opacity: 0.6; text-align: center; padding: 20px;">
                            Lade deine Video-Clips...
                        </p>
                    </div>
                </div>
                <div class="cutter-video">
                    <div id="cutter-player-container">
                        <div id="cutter-youtube-player" style="display: flex; align-items: center; justify-content: center; color: #aaa;">
                            Video-Player
                        </div>
                    </div>
                    <h4 id="cutter-video-title">(Kein Video geladen)</h4>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script src="/static/video_cutter.js"></script>
<script src="/static/player_stats.js"></script>
<script src="/static/player_calendar.js"></script>